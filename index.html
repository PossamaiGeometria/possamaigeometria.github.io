<!DOCTYPE html>
import { useState } from "react";
import { Link } from "wouter";
import { Menu, X, Check, Mail, Phone, MapPin, ChevronRight, Globe, MessageCircle } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";

// Stock images
import stockEngineer from "@assets/stock_images/industrial_machinery_456336e6.jpg";

export default function Home() {
  const [lang, setLang] = useState<"pt" | "en" | "es">("pt");
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  const content = {
    pt: {
      nav: ["Quem Somos", "Serviços", "Galeria", "Contato"],
      hero: {
        title: "Precisão que eleva sua indústria",
        subtitle: "POSSAMAI Geometria e Manutenção Ltda.",
        desc: "Especialistas em Alinhamento Óptico e a Laser, Geometria e Nivelamento Industrial.",
        cta: "Solicitar Orçamento"
      },
      about: {
        title: "Quem Somos",
        text: "A POSSAMAI Geometria e Manutenção Ltda. é especializada em Geometria de Máquinas, Alinhamento Óptico-Laser e Nivelamento industrial. Com 6 anos de atuação empresarial somados aos 20 de experiência técnica do fundador, Eng. Daniel Possamai da Silva, oferecemos soluções de alta precisão para diversos setores da indústria.",
        mission: {
          title: "Nossa Missão",
          text: "Prover serviços técnicos de precisão com segurança, inovação e confiabilidade, contribuindo diretamente para a eficiência e o desempenho dos equipamentos industriais dos nossos clientes."
        }
      },
      services: {
        title: "Nossos Serviços",
        items: [
          "Alinhamento óptico e a laser (motores, redutores, bombas, rolos, cardãs)",
          "Nivelamento e geometria de máquinas",
          "Comissionamentos e posicionamento técnico",
          "Marcações técnicas e ajustes estruturais",
          "Avaliações de linearidade, paralelismo, perpendicularidade e verticalidade"
        ]
      },
      features: {
        title: "Diferenciais",
        items: ["Equipamentos WILD/Leica", "Laser Prüftechnik", "Calibração ISO/INMETRO"]
      },
      gallery: "Galeria",
      contact: {
        title: "Contato",
        company_crea: "CREA-SP Empresa: 2821346",
        tech_crea: "Responsável Técnico: Eng. Daniel Possamai da Silva — CREA-SP 5062339303",
        phone: "+55 11 9 9548-3051",
        email: "contato.geometriapossamai@gmail.com",
        values: "Precisão · Segurança · Transparência · Compromisso"
      },
      values_section: {
        title: "Nossos Valores",
        items: [
          {
            title: "Precisão",
            desc: "Compromisso inegociável com a exatidão em cada medição e ajuste."
          },
          {
            title: "Segurança",
            desc: "Prioridade absoluta na integridade das pessoas e dos equipamentos."
          },
          {
            title: "Transparencia",
            desc: "Clareza total nos diagnósticos, laudos e relações comerciais."
          },
          {
            title: "Compromisso",
            desc: "Dedicação para resolver os desafios técnicos dentro do prazo acordado."
          }
        ]
      }
    },
    en: {
      nav: ["About Us", "Services", "Gallery", "Contact"],
      hero: {
        title: "Precision that elevates your industry",
        subtitle: "POSSAMAI Geometry and Maintenance",
        desc: "Specialists in Optical and Laser Alignment, Geometry and Industrial Leveling.",
        cta: "Request a Quote"
      },
      about: {
        title: "About Us",
        text: "POSSAMAI Geometria e Manutenção Ltda. specializes in Machine Geometry, Optical-Laser Alignment and Industrial Leveling. With 6 years as a company and over 20 years of technical experience by our founder, Eng. Daniel Possamai da Silva, we provide high-precision solutions to multiple industrial sectors.",
        mission: {
          title: "Our Mission",
          text: "Provide precision technical services with safety, innovation and reliability, directly contributing to the efficiency and performance of our clients' industrial equipment."
        }
      },
      services: {
        title: "Our Services",
        items: [
          "Optical and laser alignment (motors, gearboxes, pumps, rolls, cardans)",
          "Machine leveling and geometry",
          "Commissioning and technical positioning",
          "Technical marking and structural adjustments",
          "Assessments of linearity, parallelism, perpendicularity and verticality"
        ]
      },
      features: {
        title: "Differentials",
        items: ["WILD/Leica Equipment", "Prüftechnik Laser", "ISO/INMETRO Calibration"]
      },
      gallery: "Gallery",
      contact: {
        title: "Contact",
        company_crea: "CREA-SP Company: 2821346",
        tech_crea: "Technical Responsible: Eng. Daniel Possamai da Silva — CREA-SP 5062339303",
        phone: "+55 11 9 9548-3051",
        email: "contato.geometriapossamai@gmail.com",
        values: "Precision · Safety · Transparency · Commitment"
      },
      values_section: {
        title: "Our Values",
        items: [
          {
            title: "Precision",
            desc: "Non-negotiable commitment to accuracy in every measurement and adjustment."
          },
          {
            title: "Safety",
            desc: "Absolute priority on the integrity of people and equipment."
          },
          {
            title: "Transparency",
            desc: "Total clarity in diagnostics, reports, and commercial relationships."
          },
          {
            title: "Commitment",
            desc: "Dedication to solving technical challenges within the agreed timeframe."
          }
        ]
      }
    },
    es: {
      nav: ["Quiénes Somos", "Servicios", "Galería", "Contacto"],
      hero: {
        title: "La precisión que eleva su industria",
        subtitle: "POSSAMAI Geometría y Mantenimiento",
        desc: "Especialistas en Alineación Óptica y Láser, Geometría y Nivelación Industrial.",
        cta: "Solicitar Presupuesto"
      },
      about: {
        title: "Quiénes Somos",
        text: "POSSAMAI Geometria e Manutenção Ltda. está especializada en Geometría de Máquinas, Alineación Óptica-Láser y Nivelación industrial. Con 6 años de actividad empresarial y más de 20 años de experiencia técnica de nuestro fundador, Eng. Daniel Possamai da Silva, ofrecemos soluciones de alta precisión para múltiples sectores industriales.",
        mission: {
          title: "Nuestra Misión",
          text: "Proveer servicios técnicos de precisión con seguridad, innovación y confiabilidad, contribuyendo directamente a la eficiencia y el rendimiento de los equipos industriales de nuestros clientes."
        }
      },
      services: {
        title: "Nuestros Servicios",
        items: [
          "Alineación óptica y láser (motores, reductores, bombas, rodillos, cardanes)",
          "Nivelación y geometría de máquinas",
          "Puesta en marcha y posicionamiento técnico",
          "Marcaciones técnicas y ajustes estructurales",
          "Evaluaciones de linealidad, paralelismo, perpendicularidad y verticalidad"
        ]
      },
      features: {
        title: "Diferenciales",
        items: ["Equipos WILD/Leica", "Láser Prüftechnik", "Calibración ISO/INMETRO"]
      },
      gallery: "Galería",
      contact: {
        title: "Contacto",
        company_crea: "CREA-SP Empresa: 2821346",
        tech_crea: "Responsable Técnico: Eng. Daniel Possamai da Silva — CREA-SP 5062339303",
        phone: "+55 11 9 9548-3051",
        email: "contato.geometriapossamai@gmail.com",
        values: "Precisión · Seguridad · Transparencia · Compromiso"
      },
      values_section: {
        title: "Nuestros Valores",
        items: [
          {
            title: "Precisión",
            desc: "Compromiso innegociable con la exactitud en cada medición y ajuste."
          },
          {
            title: "Seguridad",
            desc: "Prioridad absoluta en la integridad de las personas y los equipos."
          },
          {
            title: "Transparencia",
            desc: "Claridad total en diagnósticos, informes y relaciones comerciales."
          },
          {
            title: "Compromiso",
            desc: "Dedicación para resolver los desafíos técnicos dentro del plazo acordado."
          }
        ]
      }
    }
  };

  const t = content[lang];

  const scrollToSection = (id: string) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: "smooth" });
      setIsMenuOpen(false);
    }
  };

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-900">
      {/* Navigation */}
      <header className="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60">
        <div className="container mx-auto flex h-20 items-center justify-between px-4">
          <div className="flex items-center gap-2 font-bold text-xl text-[#0A1A2F]">
            <img src="/images/logo.png" alt="POSSAMAI Logo" className="h-12 w-auto object-contain" />
          </div>

          {/* Desktop Nav */}
          <nav className="hidden md:flex gap-6">
            <button onClick={() => scrollToSection('about')} className="text-sm font-medium hover:text-[#4AA3FF] transition-colors">{t.nav[0]}</button>
            <button onClick={() => scrollToSection('services')} className="text-sm font-medium hover:text-[#4AA3FF] transition-colors">{t.nav[1]}</button>
            <button onClick={() => scrollToSection('gallery')} className="text-sm font-medium hover:text-[#4AA3FF] transition-colors">{t.nav[2]}</button>
            <button onClick={() => scrollToSection('contact')} className="text-sm font-medium hover:text-[#4AA3FF] transition-colors">{t.nav[3]}</button>
          </nav>

          <div className="flex items-center gap-4">
            <div className="hidden md:flex items-center gap-2 text-sm font-medium text-slate-500">
              <Globe className="h-4 w-4" />
              <button onClick={() => setLang('pt')} className={lang === 'pt' ? 'text-[#0A1A2F] font-bold' : 'hover:text-[#0A1A2F]'}>PT</button>
              <span>/</span>
              <button onClick={() => setLang('en')} className={lang === 'en' ? 'text-[#0A1A2F] font-bold' : 'hover:text-[#0A1A2F]'}>EN</button>
              <span>/</span>
              <button onClick={() => setLang('es')} className={lang === 'es' ? 'text-[#0A1A2F] font-bold' : 'hover:text-[#0A1A2F]'}>ES</button>
            </div>

            <Button className="md:hidden" variant="ghost" size="icon" onClick={() => setIsMenuOpen(!isMenuOpen)}>
              {isMenuOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
            </Button>
          </div>
        </div>

        {/* Mobile Nav */}
        {isMenuOpen && (
          <div className="md:hidden border-t bg-white p-4 space-y-4">
            <button onClick={() => scrollToSection('about')} className="block w-full text-left py-2 font-medium">{t.nav[0]}</button>
            <button onClick={() => scrollToSection('services')} className="block w-full text-left py-2 font-medium">{t.nav[1]}</button>
            <button onClick={() => scrollToSection('gallery')} className="block w-full text-left py-2 font-medium">{t.nav[2]}</button>
            <button onClick={() => scrollToSection('contact')} className="block w-full text-left py-2 font-medium">{t.nav[3]}</button>
            <Separator />
            <div className="flex gap-4 pt-2">
              <button onClick={() => setLang('pt')} className={lang === 'pt' ? 'font-bold' : ''}>PT</button>
              <button onClick={() => setLang('en')} className={lang === 'en' ? 'font-bold' : ''}>EN</button>
              <button onClick={() => setLang('es')} className={lang === 'es' ? 'font-bold' : ''}>ES</button>
            </div>
          </div>
        )}
      </header>

      <main>
        {/* Hero */}
        <section className="relative bg-[#0A1A2F] text-white py-20 md:py-32 overflow-hidden">
          <div className="absolute inset-0 opacity-10 bg-[radial-gradient(#4AA3FF_1px,transparent_1px)] [background-size:16px_16px]"></div>
          <div className="container mx-auto px-4 relative z-10 text-center">
            <h2 className="text-[#4AA3FF] font-semibold tracking-wide uppercase mb-4 animate-in fade-in slide-in-from-bottom-4 duration-700">{t.hero.subtitle}</h2>
            <h1 className="text-4xl md:text-6xl font-bold mb-6 max-w-4xl mx-auto leading-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-100">{t.hero.title}</h1>
            <p className="text-xl text-slate-300 max-w-2xl mx-auto mb-10 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200">{t.hero.desc}</p>
            <Button size="lg" className="bg-[#4AA3FF] hover:bg-[#3390FF] text-[#0A1A2F] font-bold text-lg px-8 animate-in fade-in zoom-in duration-500 delay-300" onClick={() => scrollToSection('contact')}>
              {t.hero.cta}
            </Button>
          </div>
        </section>

        {/* About & Mission */}
        <section id="about" className="py-20 container mx-auto px-4">
          <div className="grid md:grid-cols-2 gap-12 items-center mb-16">
            <div className="space-y-6">
              <h2 className="text-3xl font-bold text-[#0A1A2F]">{t.about.title}</h2>
              <p className="text-lg text-slate-600 leading-relaxed">{t.about.text}</p>
              
              <div className="bg-slate-100 p-6 rounded-lg border-l-4 border-[#4AA3FF]">
                <h3 className="font-bold text-[#0A1A2F] mb-2">{t.about.mission.title}</h3>
                <p className="text-slate-600">{t.about.mission.text}</p>
              </div>
            </div>
            <div className="grid grid-cols-1 gap-4">
               {/* About Image */}
               <div className="aspect-video bg-slate-200 rounded-xl overflow-hidden shadow-lg relative group">
                  <div className="absolute inset-0 bg-[#0A1A2F]/10 group-hover:bg-transparent transition-colors"></div>
                  <img src="/images/about.jpg" alt="Industrial Precision" className="w-full h-full object-cover" />
               </div>
            </div>
          </div>

          {/* New Values Section */}
          <div className="space-y-8">
            <h3 className="text-2xl font-bold text-[#0A1A2F] text-center mb-8">{t.values_section.title}</h3>
            <div className="grid md:grid-cols-4 gap-6">
              {t.values_section.items.map((item, i) => (
                <Card key={i} className="hover:shadow-lg transition-shadow border-t-4 border-t-[#4AA3FF]">
                  <CardContent className="p-6 text-center">
                    <h4 className="font-bold text-lg text-[#0A1A2F] mb-3">{item.title}</h4>
                    <p className="text-slate-600 text-sm">{item.desc}</p>
                  </CardContent>
                </Card>
              ))}
            </div>
          </div>
        </section>

        {/* Services & Features */}
        <section id="services" className="bg-slate-100 py-20">
          <div className="container mx-auto px-4">
            <div className="grid md:grid-cols-3 gap-12">
              <div className="md:col-span-2 space-y-8">
                <h2 className="text-3xl font-bold text-[#0A1A2F]">{t.services.title}</h2>
                <div className="grid gap-4">
                  {t.services.items.map((item, i) => (
                    <Card key={i} className="border-none shadow-sm hover:shadow-md transition-shadow">
                      <CardContent className="flex items-start gap-4 p-4">
                        <div className="mt-1 bg-[#eef7ff] p-2 rounded-full text-[#4AA3FF]">
                          <Check className="h-5 w-5" />
                        </div>
                        <span className="text-slate-700 font-medium">{item}</span>
                      </CardContent>
                    </Card>
                  ))}
                </div>
              </div>
              
              <div className="space-y-8">
                <h2 className="text-3xl font-bold text-[#0A1A2F]">{t.features.title}</h2>
                <div className="space-y-4">
                  {t.features.items.map((item, i) => (
                    <div key={i} className="bg-[#0A1A2F] text-white p-6 rounded-xl shadow-lg transform hover:-translate-y-1 transition-transform">
                      <h3 className="font-bold text-lg text-center">{item}</h3>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Gallery */}
        <section id="gallery" className="py-20 container mx-auto px-4">
          <h2 className="text-3xl font-bold text-[#0A1A2F] mb-8 text-center">{t.gallery}</h2>
          <div className="grid md:grid-cols-3 gap-6">
            <div className="aspect-[4/3] rounded-xl overflow-hidden shadow-md">
              <img src="/images/gallery1.jpg" alt="Equipamento 1" className="w-full h-full object-cover hover:scale-105 transition-transform duration-500" />
            </div>
            <div className="aspect-[4/3] rounded-xl overflow-hidden shadow-md">
              <img src="/images/gallery2.jpg" alt="Equipamento 2" className="w-full h-full object-cover hover:scale-105 transition-transform duration-500" />
            </div>
            <div className="aspect-[4/3] rounded-xl overflow-hidden shadow-md">
              <img src="/images/gallery3.jpg" alt="Campo" className="w-full h-full object-cover hover:scale-105 transition-transform duration-500" />
            </div>
          </div>
        </section>

        {/* Contact */}
        <section id="contact" className="bg-[#0A1A2F] text-white py-20">
          <div className="container mx-auto px-4">
            <div className="grid md:grid-cols-2 gap-12">
              <div>
                <h2 className="text-3xl font-bold mb-8">{t.contact.title}</h2>
                <div className="space-y-6">
                  <div className="flex items-start gap-4">
                    <MapPin className="h-6 w-6 text-[#4AA3FF] mt-1" />
                    <div>
                      <p className="font-medium text-lg">POSSAMAI Geometria e Manutenção Ltda.</p>
                      <p className="text-slate-400 mt-1">{t.contact.company_crea}</p>
                    </div>
                  </div>
                  
                  <div className="flex items-start gap-4">
                     <div className="h-6 w-6 rounded-full border-2 border-[#4AA3FF] flex items-center justify-center text-[10px] font-bold text-[#4AA3FF] mt-1">ID</div>
                     <p className="text-slate-300">{t.contact.tech_crea}</p>
                  </div>

                  <div className="flex items-center gap-4">
                    <Phone className="h-6 w-6 text-[#4AA3FF]" />
                    <a href="tel:+5511995483051" className="text-lg hover:text-[#4AA3FF] transition-colors">{t.contact.phone}</a>
                  </div>

                  <div className="flex items-center gap-4">
                    <MessageCircle className="h-6 w-6 text-[#25D366]" />
                    <a href="https://wa.me/5511995483051" target="_blank" rel="noopener noreferrer" className="text-lg hover:text-[#25D366] transition-colors">WhatsApp</a>
                  </div>

                  <div className="flex items-center gap-4">
                    <Mail className="h-6 w-6 text-[#4AA3FF]" />
                    <a href="mailto:contato.geometriapossamai@gmail.com" className="text-lg hover:text-[#4AA3FF] transition-colors">{t.contact.email}</a>
                  </div>
                </div>
              </div>

              <Card className="bg-white text-slate-900">
                <CardContent className="p-8">
                  <h3 className="text-xl font-bold mb-6">Solicite um Orçamento</h3>
                  <form action="https://formsubmit.co/contato.geometriapossamai@gmail.com" method="POST" className="space-y-4">
                    <div className="grid md:grid-cols-2 gap-4">
                      <input name="name" placeholder="Nome / Name" className="w-full p-3 rounded-lg border bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#4AA3FF]" required />
                      <input name="company" placeholder="Empresa / Company" className="w-full p-3 rounded-lg border bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#4AA3FF]" />
                    </div>
                    <input name="email" type="email" placeholder="E-mail" className="w-full p-3 rounded-lg border bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#4AA3FF]" required />
                    <input name="phone" placeholder="Telefone / Phone" className="w-full p-3 rounded-lg border bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#4AA3FF]" />
                    <textarea name="message" placeholder="Mensagem / Message" rows={4} className="w-full p-3 rounded-lg border bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[#4AA3FF] resize-none" required></textarea>
                    <Button type="submit" className="w-full bg-[#0A1A2F] hover:bg-[#152a45] text-white font-bold h-12">
                      Enviar / Send
                    </Button>
                  </form>
                </CardContent>
              </Card>
            </div>
          </div>
        </section>

        <footer className="bg-[#071224] text-slate-500 py-8 text-center text-sm border-t border-white/5">
          <div className="container mx-auto">
            <p>&copy; {new Date().getFullYear()} POSSAMAI Geometria e Manutenção Ltda. All rights reserved.</p>
          </div>
        </footer>
      </main>
    </div>
  );
}
